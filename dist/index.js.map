{"version":3,"sources":["../src/index.js"],"names":["Weather","key","prototype","getStations","callback","options","method","protocol","hostname","path","port","headers","req","request","response","data","on","chunk","JSON","parse","end","getStation","station","getCurrentConditions","getActiveAlerts","point","latitude","Number","toFixed","longitude","getForecast","getHourlyForecast","getObservations","getNearbyStations","getPoint"],"mappings":"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","file":"index.js","sourcesContent":["import https from \"https\";\n\nlet Weather = function(key){\n\tthis.key = key;\n};\n\nWeather.prototype.getStations = function(callback){\n\tlet options = {\n\t\tmethod: \"GET\",\n\t\tprotocol: \"https:\",\n\t\thostname: \"api.weather.gov\",\n\t\tpath: \"/stations\",\n\t\tport: 443,\n\t\t/*This will change in the future when api.weather.gov switches to API keys.\n\t\tSee https://forecast-v3.weather.gov/documentation?redirect=legacy */\n\t\theaders: {\n\t\t\t\"user-agent\": this.key,\n\t\t\t\"accept\": \"application/geo+json\"\n\t\t}\n\t};\n\n\tlet req = https.request(options, function(response) {\n\t\tlet data = \"\";\n\t\tresponse.on(\"data\", function(chunk) {\n\t\t\tdata += chunk;\n\t\t});\n\n\t\tresponse.on(\"end\", function() {\n\t\t\tcallback(null, JSON.parse(data));\n\t\t});\n\t});\n\n\treq.end();\n};\n\nWeather.prototype.getStation = function(station, callback){\n\tlet options = {\n\t\tmethod: \"GET\",\n\t\tprotocol: \"https:\",\n\t\thostname: \"api.weather.gov\",\n\t\tpath: \"/stations/\" + station,\n\t\tport: 443,\n\t\t/*This will change in the future when api.weather.gov switches to API keys.\n\t\tSee https://forecast-v3.weather.gov/documentation?redirect=legacy */\n\t\theaders: {\n\t\t\t\"user-agent\": this.key,\n\t\t\t\"accept\": \"application/geo+json\"\n\t\t}\n\t};\n\n\tlet req = https.request(options, function(response) {\n\t\tlet data = \"\";\n\t\tresponse.on(\"data\", function(chunk) {\n\t\t\tdata += chunk;\n\t\t});\n\n\t\tresponse.on(\"end\", function() {\n\t\t\tcallback(null, JSON.parse(data));\n\t\t});\n\t});\n\n\treq.end();\n};\n\nWeather.prototype.getCurrentConditions = function(station, callback){\n\tlet options = {\n\t\tmethod: \"GET\",\n\t\tprotocol: \"https:\",\n\t\thostname: \"api.weather.gov\",\n\t\tpath: \"/stations/\" + station + \"/observations/current\",\n\t\tport: 443,\n\t\t/*This will change in the future when api.weather.gov switches to API keys.\n\t\tSee https://forecast-v3.weather.gov/documentation?redirect=legacy */\n\t\theaders: {\n\t\t\t\"user-agent\": this.key,\n\t\t\t\"accept\": \"application/geo+json\"\n\t\t}\n\t};\n\n\tlet req = https.request(options, function(response) {\n\t\tlet data = \"\";\n\t\tresponse.on(\"data\", function(chunk) {\n\t\t\tdata += chunk;\n\t\t});\n\n\t\tresponse.on(\"end\", function() {\n\t\t\tcallback(null, JSON.parse(data));\n\t\t});\n\t});\n\n\treq.end();\n};\n\nWeather.prototype.getActiveAlerts = function(point, callback){\n\tpoint.latitude = Number(point.latitude).toFixed(4);\n\tpoint.longitude = Number(point.longitude).toFixed(4);\n\n\tlet options = {\n\t\tmethod: \"GET\",\n\t\tprotocol: \"https:\",\n\t\thostname: \"api.weather.gov\",\n\t\tpath: \"/alerts/?active=1&point=\" + point.latitude + \",\" + point.longitude,\n\t\tport: 443,\n\t\t/*This will change in the future when api.weather.gov switches to API keys.\n\t\tSee https://forecast-v3.weather.gov/documentation?redirect=legacy */\n\t\theaders: {\n\t\t\t\"user-agent\": this.key,\n\t\t\t\"accept\": \"application/geo+json\"\n\t\t}\n\t};\n\n\tlet req = https.request(options, function(response) {\n\t\tlet data = \"\";\n\t\tresponse.on(\"data\", function(chunk) {\n\t\t\tdata += chunk;\n\t\t});\n\n\t\tresponse.on(\"end\", function() {\n\t\t\tcallback(null, JSON.parse(data));\n\t\t});\n\t});\n\n\treq.end();\n};\n\nWeather.prototype.getForecast = function(point, callback){\n\tpoint.latitude = Number(point.latitude).toFixed(4);\n\tpoint.longitude = Number(point.longitude).toFixed(4);\n\n\tlet options = {\n\t\tmethod: \"GET\",\n\t\tprotocol: \"https:\",\n\t\thostname: \"api.weather.gov\",\n\t\tpath: \"/points/\" + point.latitude + \",\" + point.longitude + \"/forecast\",\n\t\tport: 443,\n\t\t/*This will change in the future when api.weather.gov switches to API keys.\n\t\tSee https://forecast-v3.weather.gov/documentation?redirect=legacy */\n\t\theaders: {\n\t\t\t\"user-agent\": this.key,\n\t\t\t\"accept\": \"application/geo+json\"\n\t\t}\n\t};\n\n\tlet req = https.request(options, function(response) {\n\t\tlet data = \"\";\n\t\tresponse.on(\"data\", function(chunk) {\n\t\t\tdata += chunk;\n\t\t});\n\n\t\tresponse.on(\"end\", function() {\n\t\t\tcallback(null, JSON.parse(data));\n\t\t});\n\t});\n\n\treq.end();\n};\n\nWeather.prototype.getHourlyForecast = function(point, callback){\n\tpoint.latitude = Number(point.latitude).toFixed(4);\n\tpoint.longitude = Number(point.longitude).toFixed(4);\n\n\tlet options = {\n\t\tmethod: \"GET\",\n\t\tprotocol: \"https:\",\n\t\thostname: \"api.weather.gov\",\n\t\tpath: \"/points/\" + point.latitude + \",\" + point.longitude + \"/forecast/hourly\",\n\t\tport: 443,\n\t\t/*This will change in the future when api.weather.gov switches to API keys.\n\t\tSee https://forecast-v3.weather.gov/documentation?redirect=legacy */\n\t\theaders: {\n\t\t\t\"user-agent\": this.key,\n\t\t\t\"accept\": \"application/geo+json\"\n\t\t}\n\t};\n\n\tlet req = https.request(options, function(response) {\n\t\tlet data = \"\";\n\t\tresponse.on(\"data\", function(chunk) {\n\t\t\tdata += chunk;\n\t\t});\n\n\t\tresponse.on(\"end\", function() {\n\t\t\tcallback(null, JSON.parse(data));\n\t\t});\n\t});\n\n\treq.end();\n};\n\nWeather.prototype.getObservations = function(station, callback){\n\tlet options = {\n\t\tmethod: \"GET\",\n\t\tprotocol: \"https:\",\n\t\thostname: \"api.weather.gov\",\n\t\tpath: \"/stations/\" + station + \"/observations\",\n\t\tport: 443,\n\t\t/*This will change in the future when api.weather.gov switches to API keys.\n\t\tSee https://forecast-v3.weather.gov/documentation?redirect=legacy */\n\t\theaders: {\n\t\t\t\"user-agent\": this.key,\n\t\t\t\"accept\": \"application/geo+json\"\n\t\t}\n\t};\n\n\tlet req = https.request(options, function(response) {\n\t\tlet data = \"\";\n\t\tresponse.on(\"data\", function(chunk) {\n\t\t\tdata += chunk;\n\t\t});\n\n\t\tresponse.on(\"end\", function() {\n\t\t\tcallback(null, JSON.parse(data));\n\t\t});\n\t});\n\n\treq.end();\n};\n\nWeather.prototype.getNearbyStations = function(point, callback){\n\tpoint.latitude = Number(point.latitude).toFixed(4);\n\tpoint.longitude = Number(point.longitude).toFixed(4);\n\n\tlet options = {\n\t\tmethod: \"GET\",\n\t\tprotocol: \"https:\",\n\t\thostname: \"api.weather.gov\",\n\t\tpath: \"/points/\" + point.latitude + \",\" + point.longitude + \"/stations\",\n\t\tport: 443,\n\t\t/*This will change in the future when api.weather.gov switches to API keys.\n\t\tSee https://forecast-v3.weather.gov/documentation?redirect=legacy */\n\t\theaders: {\n\t\t\t\"user-agent\": this.key,\n\t\t\t\"accept\": \"application/geo+json\"\n\t\t}\n\t};\n\n\tlet req = https.request(options, function(response) {\n\t\tlet data = \"\";\n\t\tresponse.on(\"data\", function(chunk) {\n\t\t\tdata += chunk;\n\t\t});\n\n\t\tresponse.on(\"end\", function() {\n\t\t\tcallback(null, JSON.parse(data));\n\t\t});\n\t});\n\n\treq.end();\n};\n\nWeather.prototype.getPoint = function(point,callback){\n\tpoint.latitude = Number(point.latitude).toFixed(4);\n\tpoint.longitude = Number(point.longitude).toFixed(4);\n\n\tlet options = {\n\t\tmethod: \"GET\",\n\t\tprotocol: \"https:\",\n\t\thostname: \"api.weather.gov\",\n\t\tpath: \"/points/\" + point.latitude + \",\" + point.longitude,\n\t\tport: 443,\n\t\t/*This will change in the future when api.weather.gov switches to API keys.\n\t\tSee https://forecast-v3.weather.gov/documentation?redirect=legacy */\n\t\theaders: {\n\t\t\t\"user-agent\": this.key,\n\t\t\t\"accept\": \"application/geo+json\"\n\t\t}\n\t};\n\n\tlet req = https.request(options, function(response) {\n\t\tlet data = \"\";\n\t\tresponse.on(\"data\", function(chunk) {\n\t\t\tdata += chunk;\n\t\t});\n\n\t\tresponse.on(\"end\", function() {\n\t\t\tcallback(null, JSON.parse(data));\n\t\t});\n\t});\n\n\treq.end();\n};\n\nexport default Weather;\n"]}